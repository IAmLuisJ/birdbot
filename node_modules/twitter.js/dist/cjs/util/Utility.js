"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.parseResponse = exports.mergeDefault = exports.objectHasKey = void 0;
/**
 * Checks whether a given key is present in a given object.
 * @param targetObject The object to check the key in
 * @param key The key to check
 * @returns `true` if the key is present, otherwise `false`
 */
const objectHasKey = (targetObject, key) => Object.prototype.hasOwnProperty.call(targetObject, key);
exports.objectHasKey = objectHasKey;
/* eslint-disable */
function mergeDefault(defaultObject, givenObject) {
    if (!givenObject)
        return defaultObject;
    let key;
    for (key in defaultObject) {
        if (!(0, exports.objectHasKey)(givenObject, key) || givenObject[key] === undefined) {
            givenObject[key] = defaultObject[key];
        }
        else if (givenObject[key] === Object(givenObject[key])) {
            givenObject[key] = mergeDefault(defaultObject[key], givenObject[key]);
        }
    }
    return givenObject;
}
exports.mergeDefault = mergeDefault;
/* eslint-enable */
/**
 * Parses an API response and returns the body
 * @param res The response sent by the API
 * @returns The body of the response
 */
async function parseResponse(res) {
    if (res.headers.get('content-type')?.startsWith('application/json')) {
        return res.json();
    }
    return res.arrayBuffer();
}
exports.parseResponse = parseResponse;
